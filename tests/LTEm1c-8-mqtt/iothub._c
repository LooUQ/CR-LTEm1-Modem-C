/******************************************************************************
 *  \file ip.c
 *  \author Greg Terrell
 *  \license MIT License
 *
 *  Copyright (c) 2020 LooUQ Incorporated.
 *****************************************************************************/

#include <ltem1c.h>

#define _DEBUG
#include "..\platform\platform_stdio.h"

#define MSG_PROPS_MAX_SZ 200
#define MSG_BODY_MAX_SZ 500


// msg fields
char msgProps[MSG_PROPS_MAX_SZ] = {0};
char msgBody[MSG_BODY_MAX_SZ] = {0};

uint16_t msgId = 0;
char msgSchemaVersion[] = "1.0";
char msgType[] = "alrt";
char eventName[80] = "dvStart";
char eventDisplay[180] = {0};


//snprintf(openCmd, PROTOCOLS_CMD_BUFFER_SZ, "AT+QIOPEN=%d,%d,\"%s\",\"%s\",%d", g_ltem1->dataContext, socketId, protoName, host, rmtPort);

// device start
//snprintf(msgProps, MSG_PROPS_MAX_SZ, "mId=~%d&mV=%s&mTyp=%s&evC=cloud&evN=dvStart&evV=%s", msgId, msgSchemaVersion, msgType, eventDisplay);


//snprintf(msgBody, MSG_BODY_MAX_SZ, "{\"dvStart\":{\"dvcInfo\":{\"dId\":\"%s\", \"codeVer\":\"LooUQ-Cloud MQTT v1.1\", \"msgVer\":\"1.0\"}, \"ntwkInfo\":{\"ntwkType\":\"<network type>\", \"ntwkDetail\":\"<network info>\"}}}");


// telemetry

//snprintf(msgBody, MSG_BODY_MAX_SZ, "{\"telemetry\":{\"DeviceName\":\"%s\", \"WindSpeed\":%f, \"FreeMem\":%d, \"BatteryVoltage\":%f}}");

